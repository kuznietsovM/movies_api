# Movies API
Тестове завдання для WebbyLab.

Цей проект є API для керування колекцією фільмів. Він дозволяє авторизуватись, додавати, отримувати, оновлювати та видаляти інформацію про фільми, а також імпортувати їх із файлу.

## Технології

* **Node.js**
* **Express.js**
* **TypeScript**
* **Sequelize**
* **SQLite**
* **Zod**
* **Multer**
* **Docker**

## Вимоги для запуску

* Node.js
* yarn або npm
* Docker

## Запуск в один рядок через Docker

```bash
docker run --name movies -p 8000:8050 -e APP_PORT=8050 kuznietsovm/movies
```

Команда запускає Docker контейнер за образом із Docker-Hub (kuznietsovm/movies).
API буде доступний за адресою `http://localhost:8050` (або порт, вказаний у `APP_PORT`).

## Локальний запуск (без Docker)

1.  **Клонуйте репозиторій:**
    ```bash
    git clone https://github.com/kuznietsovM/movies_api.git
    cd movies_api
    ```
2.  **Встановіть залежності:**
    ```bash
    yarn install
    ```
3.  **Опціонально.** Створіть файл `.env` у корені проєкту та додайте необхідні змінні оточення. Наприклад:
    ```
    APP_PORT=8050
    JWT_SECRET=some_secret_key
    JWT_EXPIRE_TIME_SECONDS=7200
    ```
4.  **Запустіть програму:**
    ```bash
    yarn run start
    ```
    API буде доступний за адресою `http://localhost:8050` (або порт, вказаний у `APP_PORT`).

## Змінні оточення

Вся конфігурація програми відбувається через змінні оточення.

| Змінна оточення          | Опис                                              | Значення за замовчуванням  | Обов'язкова |
| :--------------          | :-----------------------------------------------  | :------------------------- | :---------- |
| `APP_PORT`               | Порт, на якому буде працювати API сервер          | `8050`                     | Ні          |
| `JWT_SECRET`             | Секретний ключ для підпису та верифікації JWT     | *випадкова строка*         | Ні          |
| `JWT_EXPIRE_TIME_SECONDS`| Час закінчення терміну дії JWT токена (у секундах)| `7200`                     | Ні          |


## Запуск та складання Docker образу

Щоб скласти Docker образ програми, перейдіть до кореневої директорії проєкту і виконайте:

```bash
docker build -t kuznietsovm/movies .
```
Після складання образу ви можете запустити контейнер одним рядком.

```bash
docker run --name movies -p 8000:8050 -e APP_PORT=8050 kuznietsovm/movies
```